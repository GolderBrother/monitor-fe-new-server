2022-10-15 21:34:42,357 ERROR 35494 [-/127.0.0.1/-/9842ms GET /monitorNews?link=https:%2F%2Fh5.waimai.meituan.com%2Fwaimai%2Fmindex%2Fhome&bizType=meituan] nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded","User-Agent":"axios/1.1.2","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":0,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&_=1665836953751 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/x-www-form-urlencoded\r\nUser-Agent: axios/1.1.2\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\nContent-Length: 0\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 e5 02 01 01 02 02 03 03 04 02 c0 2f 04 20 e7 c0 f9 e4 01 74 2e 65 12 65 80 2c 4f 0c d4 9a f7 1c 94 b5 24 4c d9 7b ba 17 5d 0d bc 65 9c 73 04 ...(2025) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Sat, 15 Oct 2022 13:34:42 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded","User-Agent":"axios/1.1.2","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&_=1665836953751"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":0,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Sat, 15 Oct 2022 13:34:42 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded","User-Agent":"axios/1.1.2","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":0,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&_=1665836953751 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/x-www-form-urlencoded\r\nUser-Agent: axios/1.1.2\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\nContent-Length: 0\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 e5 02 01 01 02 02 03 03 04 02 c0 2f 04 20 e7 c0 f9 e4 01 74 2e 65 12 65 80 2c 4f 0c d4 9a f7 1c 94 b5 24 4c d9 7b ba 17 5d 0d bc 65 9c 73 04 ...(2025) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Sat, 15 Oct 2022 13:34:42 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded","User-Agent":"axios/1.1.2","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&_=1665836953751"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":0,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 35494
hostname: JAMESEZHANG-MB0

2022-10-15 21:47:27,479 ERROR 39815 [-/127.0.0.1/-/12780ms GET /monitorNews?link=https:%2F%2Fh5.waimai.meituan.com%2Fwaimai%2Fmindex%2Fhome&bizType=meituan] nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"350","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"wm_latitude\":22522802,\"wm_longitude\":113935298,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"27b1c2b96fae4e558034.1665836833.1.0.0\",\"uuid\":\"27b1c2b96fae4e558034.1665836833.1.0.0\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&_=1665836953751 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 350\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 e5 02 01 01 02 02 03 03 04 02 c0 2f 04 20 73 29 00 fa d5 48 24 7e 74 71 96 b5 4f 99 5c fb 7a 0d 6f 87 c6 a1 44 40 6f 17 f2 83 c1 48 f8 1d 04 ...(2025) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Sat, 15 Oct 2022 13:47:27 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"350","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&_=1665836953751"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":350,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Sat, 15 Oct 2022 13:47:27 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"350","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"wm_latitude\":22522802,\"wm_longitude\":113935298,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"27b1c2b96fae4e558034.1665836833.1.0.0\",\"uuid\":\"27b1c2b96fae4e558034.1665836833.1.0.0\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&_=1665836953751 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 350\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 e5 02 01 01 02 02 03 03 04 02 c0 2f 04 20 73 29 00 fa d5 48 24 7e 74 71 96 b5 4f 99 5c fb 7a 0d 6f 87 c6 a1 44 40 6f 17 f2 83 c1 48 f8 1d 04 ...(2025) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Sat, 15 Oct 2022 13:47:27 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&_=1665836953751","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"350","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&_=1665836953751"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":350,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&_=1665836953751"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 39815
hostname: JAMESEZHANG-MB0

2023-02-23 21:16:50,544 ERROR 54097 nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 29 92 b0 d0 e7 bf 84 c9 21 97 22 48 19 df ad 2b 8f fa 0b 5d c5 b6 21 5e 3c 57 d5 57 63 c3 0b 5d 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:16:50 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Thu, 23 Feb 2023 13:16:50 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 29 92 b0 d0 e7 bf 84 c9 21 97 22 48 19 df ad 2b 8f fa 0b 5d c5 b6 21 5e 3c 57 d5 57 63 c3 0b 5d 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:16:50 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 54097
hostname: JAMESEZHANG-MB1

2023-02-23 21:17:32,865 ERROR 54584 nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 8d a0 a9 4a a4 c1 f2 88 76 df c2 9e 85 ea 2b 57 68 73 6b 52 90 9a c0 e8 25 0c 05 85 e8 d1 49 46 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:17:32 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Thu, 23 Feb 2023 13:17:32 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 8d a0 a9 4a a4 c1 f2 88 76 df c2 9e 85 ea 2b 57 68 73 6b 52 90 9a c0 e8 25 0c 05 85 e8 d1 49 46 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:17:32 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 54584
hostname: JAMESEZHANG-MB1

2023-02-23 21:21:28,699 ERROR 55719 nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 d8 13 59 49 20 f1 eb ad c6 32 6d 51 04 1e 47 33 02 83 e8 ab 51 31 96 63 cd ca c8 2a 1c ee d7 ee 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:21:28 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Thu, 23 Feb 2023 13:21:28 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 d8 13 59 49 20 f1 eb ad c6 32 6d 51 04 1e 47 33 02 83 e8 ab 51 31 96 63 cd ca c8 2a 1c ee d7 ee 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:21:28 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 55719
hostname: JAMESEZHANG-MB1

2023-02-23 21:24:12,456 ERROR 56508 nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 60 82 64 3e 6b 3f cb ff 9a ab 2c 48 9e 61 3e 5e 35 ba 89 38 48 e8 a1 43 a6 bb ae d5 c4 a1 39 14 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:24:12 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Thu, 23 Feb 2023 13:24:12 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 60 82 64 3e 6b 3f cb ff 9a ab 2c 48 9e 61 3e 5e 35 ba 89 38 48 e8 a1 43 a6 bb ae d5 c4 a1 39 14 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:24:12 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 56508
hostname: JAMESEZHANG-MB1

2023-02-23 21:24:44,203 ERROR 57365 nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 2c 5c de 00 a7 26 e6 86 31 24 79 e7 8c 99 f4 45 aa 67 ff 80 01 3a 08 4e 90 6b f7 3e f1 f0 48 dd 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:24:44 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Thu, 23 Feb 2023 13:24:44 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 2c 5c de 00 a7 26 e6 86 31 24 79 e7 8c 99 f4 45 aa 67 ff 80 01 3a 08 4e 90 6b f7 3e f1 f0 48 dd 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:24:44 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 57365
hostname: JAMESEZHANG-MB1

2023-02-23 21:25:08,266 ERROR 57563 nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 6a 1c 18 39 90 58 35 e2 58 24 a7 3d 9d 15 9b 26 5c b9 f2 54 4c cb c9 11 e1 8e 8c b7 82 15 83 38 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:25:08 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Thu, 23 Feb 2023 13:25:08 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 6a 1c 18 39 90 58 35 e2 58 24 a7 3d 9d 15 9b 26 5c b9 f2 54 4c cb c9 11 e1 8e 8c b7 82 15 83 38 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:25:08 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 57563
hostname: JAMESEZHANG-MB1

2023-02-23 21:25:08,865 ERROR 57563 nodejs.AxiosError: Request failed with status code 403
    at settle (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/axios/lib/adapters/http.js:494:11)
    at IncomingMessage.emit (node:events:406:35)
    at endReadableNT (node:internal/streams/readable:1343:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
message: "Request failed with status code 403"
name: "AxiosError"
code: "ERR_BAD_REQUEST"
config: {"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"}
request: {"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 5f 3d cd 24 8e 02 3f fe 6d 08 80 61 f8 04 d4 3f 9b 87 f5 19 a9 49 a1 37 d7 b0 4f b8 6b 85 d6 4d 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:25:08 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~socket","_consuming":false,"_dumped":false,"req":"~","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}}
response: {"status":403,"statusText":"Forbidden","headers":{"server":"openresty","date":"Thu, 23 Feb 2023 13:25:08 GMT","content-type":"text/html","content-length":"150","connection":"close","x-forbid-reason":".","access-control-allow-methods":"POST, GET, PUT, DELETE, OPTIONS","access-control-allow-credentials":"true","access-control-expose-headers":"X-Forbid-Reason,M-TraceId","access-control-allow-headers":"DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"},"config":{"transitional":{"silentJSONParsing":true,"forcedJSONParsing":true,"clarifyTimeoutError":false},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"env":{"Blob":null},"headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"method":"post","url":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","data":"{\"optimus_code\":10,\"optimus_risk_level\":71,\"pageSize\":20,\"page_index\":0,\"offset\":0,\"content_personalized_switch\":0,\"sort_type\":\"\",\"slider_select_data\":\"\",\"activity_filter_codes\":\"\",\"wm_latitude\":22547254,\"wm_longitude\":113943154,\"wmUuidDeregistration\":0,\"wmUserIdDeregistration\":0,\"openh5_uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\",\"uuid\":\"31FBF6656D230BC7DC6D4145EFF546FFB4FD2D68246FDEB1F2D80C62540F1F63\"}"},"request":{"_events":{},"_eventsCount":7,"outputData":[],"outputSize":0,"writable":true,"destroyed":false,"_last":true,"chunkedEncoding":false,"shouldKeepAlive":false,"_defaultKeepAlive":true,"useChunkedEncodingByDefault":true,"sendDate":false,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_contentLength":null,"_hasBody":true,"_trailer":"","finished":true,"_headerSent":true,"_closed":false,"socket":{"_tlsOptions":{"pipe":false,"secureContext":{"context":{}},"isServer":false,"requestCert":true,"rejectUnauthorized":true},"_secureEstablished":true,"_securePending":false,"_newSessionPending":false,"_controlReleased":true,"secureConnecting":false,"_SNICallback":null,"servername":"i.waimai.meituan.com","alpnProtocol":false,"authorized":true,"authorizationError":null,"encrypted":true,"_events":{"close":[null,null,null,null]},"_eventsCount":10,"connecting":false,"_hadError":false,"_parent":null,"_host":"i.waimai.meituan.com","_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":false,"endEmitted":false,"reading":true,"constructed":true,"sync":false,"needReadable":true,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":true,"decoder":null,"encoding":null},"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":true,"needDrain":false,"ending":true,"ended":true,"finished":false,"destroyed":false,"decodeStrings":false,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":false,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":1,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":false,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"allowHalfOpen":false,"_sockname":null,"_pendingData":null,"_pendingEncoding":"","_server":null,"ssl":{"_parent":{"reading":true,"onconnection":null},"_secureContext":"~request~socket~_tlsOptions~secureContext","reading":true},"_requestCert":true,"_rejectUnauthorized":true,"parser":null,"_httpMessage":"~request"},"_header":"POST /tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.1.2\r\nContent-Length: 436\r\nAccept-Encoding: gzip, deflate, br\r\nHost: i.waimai.meituan.com\r\nConnection: close\r\n\r\n","_keepAliveTimeout":0,"agent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"path":null},"requests":{},"sockets":{"i.waimai.meituan.com:443:::::::::::::::::::::":["~request~socket"]},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":1,"maxCachedSessions":100,"_sessionCache":{"map":{"i.waimai.meituan.com:443:::::::::::::::::::::":"<Buffer 30 82 07 df 02 01 01 02 02 03 03 04 02 c0 2f 04 20 5f 3d cd 24 8e 02 3f fe 6d 08 80 61 f8 04 d4 3f 9b 87 f5 19 a9 49 a1 37 d7 b0 4f b8 6b 85 d6 4d 04 ...(2019) >"},"list":["i.waimai.meituan.com:443:::::::::::::::::::::"]}},"method":"POST","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","_ended":true,"res":{"_readableState":{"objectMode":false,"highWaterMark":16384,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":true,"ended":true,"endEmitted":true,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":true,"errored":null,"closed":true,"closeEmitted":true,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":true,"dataEmitted":true,"decoder":null,"encoding":null},"_events":{"end":[null,null]},"_eventsCount":4,"socket":"~request~socket","httpVersionMajor":1,"httpVersionMinor":1,"httpVersion":"1.1","complete":true,"rawHeaders":["Server","openresty","Date","Thu, 23 Feb 2023 13:25:08 GMT","Content-Type","text/html","Content-Length","150","Connection","close","X-Forbid-Reason",".","Access-Control-Allow-Methods","POST, GET, PUT, DELETE, OPTIONS","Access-Control-Allow-Credentials","true","Access-Control-Expose-Headers","X-Forbid-Reason,M-TraceId","Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,swimlane,M-TraceId,mtgsig,ufe-force"],"rawTrailers":[],"aborted":false,"upgrade":false,"url":"","method":null,"statusCode":403,"statusMessage":"Forbidden","client":"~request~socket","_consuming":false,"_dumped":false,"req":"~request","responseUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","redirects":[]},"aborted":false,"timeoutCb":null,"upgradeOrConnect":false,"parser":null,"maxHeadersCount":null,"reusedSocket":false,"host":"i.waimai.meituan.com","protocol":"https:","_redirectable":{"_writableState":{"objectMode":false,"highWaterMark":16384,"finalCalled":false,"needDrain":false,"ending":false,"ended":false,"finished":false,"destroyed":false,"decodeStrings":true,"defaultEncoding":"utf8","length":0,"writing":false,"corked":0,"sync":true,"bufferProcessing":false,"writecb":null,"writelen":0,"afterWriteTickInfo":null,"buffered":[],"bufferedIndex":0,"allBuffers":true,"allNoop":true,"pendingcb":0,"constructed":true,"prefinished":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"errored":null,"closed":false,"closeEmitted":false},"_events":{},"_eventsCount":3,"_options":{"maxRedirects":21,"maxBodyLength":null,"protocol":"https:","path":"/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579","method":"POST","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"axios/1.1.2","Content-Length":"436","Accept-Encoding":"gzip, deflate, br"},"agents":{},"beforeRedirects":{},"hostname":"i.waimai.meituan.com","port":"","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"maxHeaderSize":16384,"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"protocol":"http:","options":{"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"scheduling":"lifo","maxTotalSockets":null,"totalSocketCount":0}},"https:":{"globalAgent":"~request~agent"}},"pathname":"/tsp/open/openh5/home/shopList","search":"?set_name=&region_id=&_=1677157821579"},"_ended":true,"_ending":true,"_redirectCount":0,"_redirects":"~request~res~redirects","_requestBodyLength":436,"_requestBodyBuffers":[],"_currentRequest":"~request","_currentUrl":"https://i.waimai.meituan.com/tsp/open/openh5/home/shopList?set_name=&region_id=&_=1677157821579"}},"data":"<html>\r\n<head><title>403 Forbidden</title></head>\r\n<body>\r\n<center><h1>403 Forbidden</h1></center>\r\n<hr><center>openresty</center>\r\n</body>\r\n</html>\r\n"}
pid: 57563
hostname: JAMESEZHANG-MB1

2023-02-23 22:04:07,548 ERROR 68408 nodejs.TypeError: Cannot read properties of undefined (reading 'attr')
    at Element.<anonymous> (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:27:51)
    at LoadedCheerio.each (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/cheerio/lib/api/https:/raw.githubusercontent.com/cheeriojs/cheerio/d1cbc66d53392ce8bf6cd0068f675836372d2bf3/src/api/traversing.ts:581:24)
    at Index.getHtmlContent (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:24:45)
    at Index.getLinks (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:14:24)
    at Index.formatHtmlByBizType (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/monitorNews/index.ts:23:63)
    at ScheduleController.githubTrendingFENewsScheduleHandler (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/controller/scheduleController.ts:218:45)

pid: 68408
hostname: JAMESEZHANG-MB1

2023-02-23 22:04:08,950 ERROR 68408 nodejs.TypeError: Cannot read properties of undefined (reading 'attr')
    at Element.<anonymous> (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:27:51)
    at LoadedCheerio.each (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/cheerio/lib/api/https:/raw.githubusercontent.com/cheeriojs/cheerio/d1cbc66d53392ce8bf6cd0068f675836372d2bf3/src/api/traversing.ts:581:24)
    at Index.getHtmlContent (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:24:45)
    at Index.getLinks (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:14:24)
    at Index.formatHtmlByBizType (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/monitorNews/index.ts:23:63)
    at ScheduleController.githubTrendingFENewsScheduleHandler (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/controller/scheduleController.ts:218:45)

pid: 68408
hostname: JAMESEZHANG-MB1

2023-02-23 22:04:09,019 ERROR 68408 nodejs.TypeError: Cannot read properties of undefined (reading 'attr')
    at Element.<anonymous> (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:27:51)
    at LoadedCheerio.each (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/cheerio/lib/api/https:/raw.githubusercontent.com/cheeriojs/cheerio/d1cbc66d53392ce8bf6cd0068f675836372d2bf3/src/api/traversing.ts:581:24)
    at Index.getHtmlContent (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:24:45)
    at Index.getLinks (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:14:24)
    at Index.formatHtmlByBizType (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/monitorNews/index.ts:23:63)
    at ScheduleController.githubTrendingFENewsScheduleHandler (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/controller/scheduleController.ts:218:45)

pid: 68408
hostname: JAMESEZHANG-MB1

2023-02-23 22:04:09,835 ERROR 68408 nodejs.TypeError: Cannot read properties of undefined (reading 'attr')
    at Element.<anonymous> (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:27:51)
    at LoadedCheerio.each (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/cheerio/lib/api/https:/raw.githubusercontent.com/cheeriojs/cheerio/d1cbc66d53392ce8bf6cd0068f675836372d2bf3/src/api/traversing.ts:581:24)
    at Index.getHtmlContent (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:24:45)
    at Index.getLinks (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:14:24)
    at Index.formatHtmlByBizType (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/monitorNews/index.ts:23:63)
    at ScheduleController.githubTrendingFENewsScheduleHandler (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/controller/scheduleController.ts:218:45)

pid: 68408
hostname: JAMESEZHANG-MB1

2023-02-23 22:04:11,194 ERROR 68408 nodejs.TypeError: Cannot read properties of undefined (reading 'attr')
    at Element.<anonymous> (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:27:51)
    at LoadedCheerio.each (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/cheerio/lib/api/https:/raw.githubusercontent.com/cheeriojs/cheerio/d1cbc66d53392ce8bf6cd0068f675836372d2bf3/src/api/traversing.ts:581:24)
    at Index.getHtmlContent (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:24:45)
    at Index.getLinks (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/spider/githubTrending/index.ts:14:24)
    at Index.formatHtmlByBizType (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/monitorNews/index.ts:23:63)
    at ScheduleController.githubTrendingFENewsScheduleHandler (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/controller/scheduleController.ts:218:45)

pid: 68408
hostname: JAMESEZHANG-MB1

2023-02-28 21:15:28,447 ERROR 26238 nodejs.ProtocolError: Protocol error (Target.setAutoAttach): Target closed.
    at /Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/puppeteer/src/common/Connection.ts:120:16
    at new Promise (<anonymous>)
    at Connection.send (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/puppeteer/src/common/Connection.ts:116:12)
    at ChromeTargetManager.initialize (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/puppeteer/src/common/ChromeTargetManager.ts:131:28)
    at Browser._attach (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/puppeteer/src/common/Browser.ts:346:31)
    at Function._create (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/puppeteer/src/common/Browser.ts:245:19)
    at ChromeLauncher.launch (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/node_modules/puppeteer/src/node/ChromeLauncher.ts:157:31)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at Index.getHtml (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/service/puppeteer/news.ts:68:21)
    at ScheduleController.segmentfaultFENewsScheduleHandler (/Users/zhangyaohuang/Desktop/james/self/code/monitor-chihewanle/server/app/controller/scheduleController.ts:212:24)
name: "ProtocolError"
originalMessage: ""
message: "Protocol error (Target.setAutoAttach): Target closed."
pid: 26238
hostname: JAMESEZHANG-MB1

